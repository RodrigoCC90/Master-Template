services:
  api:
    build:
      context: ./orbitos-api
      dockerfile: Dockerfile
    env_file:
      - ./orbitos-api/.env
    environment:
      ASPNETCORE_ENVIRONMENT: Development
      ASPNETCORE_URLS: http://0.0.0.0:5000
      Database__AutoMigrate: "true"
    ports:
      - "5001:5000"

  web:
    build:
      context: ./orbitos-web
      dockerfile: Dockerfile
    environment:
      NUXT_PUBLIC_API_BASE_URL: http://localhost:5001
      NITRO_HOST: 0.0.0.0
      NITRO_PORT: "3000"
    ports:
      - "3001:3000"
    depends_on:
      - api
